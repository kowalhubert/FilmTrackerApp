{"ast":null,"code":"var _jsxFileName = \"/Users/hubertkowal/Documents/FilmTrackerApp/film-tracker-frontend/src/controller/FilmList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ReactPaginate from 'react-paginate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FilmList = () => {\n  _s();\n  const [films, setFilms] = useState([]);\n  const [pageCount, setPageCount] = useState(0);\n  const [currentPage, setCurrentPage] = useState(0);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // Funkcja do pobierania danych o filmach\n  const fetchFilms = async (page, query) => {\n    try {\n      const response = await axios.get('/films', {\n        params: {\n          page: page + 1,\n          // Backend expects 1-based index for pagination\n          search: query\n        }\n      });\n      console.log('Response data:', response.data); // Sprawdź, co dostajesz w odpowiedzi\n      setFilms(response.data.content || response.data); // Fallback if no content is returned\n      setPageCount(response.data.totalPages);\n    } catch (error) {\n      console.error('There was an error fetching films:', error);\n    }\n  };\n\n  // Wywołaj fetchFilms za każdym razem, gdy zmieni się numer strony lub zapytanie\n  useEffect(() => {\n    fetchFilms(currentPage, searchQuery);\n  }, [currentPage, searchQuery]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Lista Film\\xF3w\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: films.length > 0 ? films.map(film => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: film.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 29\n        }, this), \" (\", new Date(film.releaseDate).toLocaleDateString(), \")\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 29\n        }, this), \"Re\\u017Cyser: \", film.director, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 29\n        }, this), \"Czas trwania: \", film.durationMinutes, \" min\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 29\n        }, this), \"Ocena: \", film.rating, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: film.watched ? 'Oglądany' : 'Nieoglądany'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }, this)]\n      }, film.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"Brak film\\xF3w do wy\\u015Bwietlenia\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n_s(FilmList, \"6EGJzJCM5yFqxPdULetAS1tqaXU=\");\n_c = FilmList;\nexport default FilmList;\nvar _c;\n$RefreshReg$(_c, \"FilmList\");","map":{"version":3,"names":["React","useState","useEffect","axios","ReactPaginate","jsxDEV","_jsxDEV","FilmList","_s","films","setFilms","pageCount","setPageCount","currentPage","setCurrentPage","searchQuery","setSearchQuery","fetchFilms","page","query","response","get","params","search","console","log","data","content","totalPages","error","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","film","title","Date","releaseDate","toLocaleDateString","director","durationMinutes","rating","watched","id","_c","$RefreshReg$"],"sources":["/Users/hubertkowal/Documents/FilmTrackerApp/film-tracker-frontend/src/controller/FilmList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ReactPaginate from 'react-paginate';\n\nconst FilmList = () => {\n    const [films, setFilms] = useState([]);\n    const [pageCount, setPageCount] = useState(0);\n    const [currentPage, setCurrentPage] = useState(0);\n    const [searchQuery, setSearchQuery] = useState('');\n\n    // Funkcja do pobierania danych o filmach\n    const fetchFilms = async (page, query) => {\n        try {\n            const response = await axios.get('/films', {\n                params: {\n                    page: page + 1, // Backend expects 1-based index for pagination\n                    search: query,\n                },\n            });\n\n            console.log('Response data:', response.data); // Sprawdź, co dostajesz w odpowiedzi\n            setFilms(response.data.content || response.data); // Fallback if no content is returned\n            setPageCount(response.data.totalPages);\n        } catch (error) {\n            console.error('There was an error fetching films:', error);\n        }\n    };\n\n\n\n    // Wywołaj fetchFilms za każdym razem, gdy zmieni się numer strony lub zapytanie\n    useEffect(() => {\n        fetchFilms(currentPage, searchQuery);\n    }, [currentPage, searchQuery]);\n    \n\n    return (\n        <div>\n            <h1>Lista Filmów</h1>\n\n\n\n            <ul>\n                {films.length > 0 ? (\n                    films.map((film) => (\n                        <li key={film.id}>\n                            <strong>{film.title}</strong> ({new Date(film.releaseDate).toLocaleDateString()})\n                            <br />\n                            Reżyser: {film.director}\n                            <br />\n                            Czas trwania: {film.durationMinutes} min\n                            <br />\n                            Ocena: {film.rating}\n                            <br />\n                            <strong>{film.watched ? 'Oglądany' : 'Nieoglądany'}</strong>\n                        </li>\n                    ))\n                ) : (\n                    <li>Brak filmów do wyświetlenia</li>\n                )}\n            </ul>\n\n\n        </div>\n    );\n};\n\nexport default FilmList;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,aAAa,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3C,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACY,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACc,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;;EAElD;EACA,MAAMgB,UAAU,GAAG,MAAAA,CAAOC,IAAI,EAAEC,KAAK,KAAK;IACtC,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAAC,QAAQ,EAAE;QACvCC,MAAM,EAAE;UACJJ,IAAI,EAAEA,IAAI,GAAG,CAAC;UAAE;UAChBK,MAAM,EAAEJ;QACZ;MACJ,CAAC,CAAC;MAEFK,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAAC;MAC9ChB,QAAQ,CAACU,QAAQ,CAACM,IAAI,CAACC,OAAO,IAAIP,QAAQ,CAACM,IAAI,CAAC,CAAC,CAAC;MAClDd,YAAY,CAACQ,QAAQ,CAACM,IAAI,CAACE,UAAU,CAAC;IAC1C,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZL,OAAO,CAACK,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;IAC9D;EACJ,CAAC;;EAID;EACA3B,SAAS,CAAC,MAAM;IACZe,UAAU,CAACJ,WAAW,EAAEE,WAAW,CAAC;EACxC,CAAC,EAAE,CAACF,WAAW,EAAEE,WAAW,CAAC,CAAC;EAG9B,oBACIT,OAAA;IAAAwB,QAAA,gBACIxB,OAAA;MAAAwB,QAAA,EAAI;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAIrB5B,OAAA;MAAAwB,QAAA,EACKrB,KAAK,CAAC0B,MAAM,GAAG,CAAC,GACb1B,KAAK,CAAC2B,GAAG,CAAEC,IAAI,iBACX/B,OAAA;QAAAwB,QAAA,gBACIxB,OAAA;UAAAwB,QAAA,EAASO,IAAI,CAACC;QAAK;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC,MAAE,EAAC,IAAIK,IAAI,CAACF,IAAI,CAACG,WAAW,CAAC,CAACC,kBAAkB,CAAC,CAAC,EAAC,GAChF,eAAAnC,OAAA;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,kBACG,EAACG,IAAI,CAACK,QAAQ,eACvBpC,OAAA;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,kBACQ,EAACG,IAAI,CAACM,eAAe,EAAC,MACpC,eAAArC,OAAA;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,WACC,EAACG,IAAI,CAACO,MAAM,eACnBtC,OAAA;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACN5B,OAAA;UAAAwB,QAAA,EAASO,IAAI,CAACQ,OAAO,GAAG,UAAU,GAAG;QAAa;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC;MAAA,GATvDG,IAAI,CAACS,EAAE;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAUZ,CACP,CAAC,gBAEF5B,OAAA;QAAAwB,QAAA,EAAI;MAA2B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IACtC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAGJ,CAAC;AAEd,CAAC;AAAC1B,EAAA,CA7DID,QAAQ;AAAAwC,EAAA,GAARxC,QAAQ;AA+Dd,eAAeA,QAAQ;AAAC,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}