{"ast":null,"code":"var _jsxFileName = \"/Users/hubertkowal/Documents/FilmTrackerApp/film-tracker-frontend/src/controller/FilmList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ReactPaginate from 'react-paginate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FilmList = () => {\n  _s();\n  const [films, setFilms] = useState([]);\n  const [pageCount, setPageCount] = useState(0);\n  const [currentPage, setCurrentPage] = useState(0);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // Funkcja do pobierania danych o filmach\n  const fetchFilms = async (page, query) => {\n    try {\n      const response = await axios.get('http://localhost:8080/films', {\n        params: {\n          page: page + 1,\n          // Backend oczekuje 1-based index\n          search: query\n        }\n      });\n      console.log(response.data); // Zaloguj całą odpowiedź\n      setFilms(response.data.content || []); // Jeśli 'content' jest pusty, ustaw pustą tablicę\n      setPageCount(response.data.totalPages);\n    } catch (error) {\n      console.error('Błąd podczas pobierania danych:', error);\n    }\n  };\n\n  // Wywołaj fetchFilms za każdym razem, gdy zmieni się numer strony lub zapytanie\n  useEffect(() => {\n    fetchFilms(currentPage, searchQuery);\n  }, [currentPage, searchQuery]);\n\n  // Funkcja do obsługi zmiany strony\n  const handlePageChange = ({\n    selected\n  }) => {\n    setCurrentPage(selected);\n  };\n\n  // Funkcja do obsługi zmiany zapytania wyszukiwania\n  const handleSearch = event => {\n    setSearchQuery(event.target.value);\n    setCurrentPage(0); // Zresetuj stronę, gdy zmienia się zapytanie wyszukiwania\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Lista Film\\xF3w\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Szukaj film\\xF3w...\",\n      value: searchQuery,\n      onChange: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: films.length > 0 ? films.map(film => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: film.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }, this), \" (\", new Date(film.releaseDate).toLocaleDateString(), \")\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }, this), \"Re\\u017Cyser: \", film.director, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }, this), \"Czas trwania: \", film.durationMinutes, \" min\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }, this), \"Ocena: \", film.rating, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: film.watched ? 'Oglądany' : 'Nieoglądany'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }, this)]\n      }, film.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"Brak film\\xF3w do wy\\u015Bwietlenia\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ReactPaginate, {\n      previousLabel: \"Poprzednia\",\n      nextLabel: \"Następna\",\n      pageCount: pageCount,\n      onPageChange: handlePageChange,\n      containerClassName: \"pagination\",\n      activeClassName: \"active\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(FilmList, \"6EGJzJCM5yFqxPdULetAS1tqaXU=\");\n_c = FilmList;\nexport default FilmList;\nvar _c;\n$RefreshReg$(_c, \"FilmList\");","map":{"version":3,"names":["React","useState","useEffect","axios","ReactPaginate","jsxDEV","_jsxDEV","FilmList","_s","films","setFilms","pageCount","setPageCount","currentPage","setCurrentPage","searchQuery","setSearchQuery","fetchFilms","page","query","response","get","params","search","console","log","data","content","totalPages","error","handlePageChange","selected","handleSearch","event","target","value","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","length","map","film","title","Date","releaseDate","toLocaleDateString","director","durationMinutes","rating","watched","id","previousLabel","nextLabel","onPageChange","containerClassName","activeClassName","_c","$RefreshReg$"],"sources":["/Users/hubertkowal/Documents/FilmTrackerApp/film-tracker-frontend/src/controller/FilmList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ReactPaginate from 'react-paginate';\n\nconst FilmList = () => {\n    const [films, setFilms] = useState([]);\n    const [pageCount, setPageCount] = useState(0);\n    const [currentPage, setCurrentPage] = useState(0);\n    const [searchQuery, setSearchQuery] = useState('');\n\n    // Funkcja do pobierania danych o filmach\n    const fetchFilms = async (page, query) => {\n        try {\n            const response = await axios.get('http://localhost:8080/films', {\n                params: {\n                    page: page + 1,  // Backend oczekuje 1-based index\n                    search: query,\n                },\n            });\n            console.log(response.data); // Zaloguj całą odpowiedź\n            setFilms(response.data.content || []); // Jeśli 'content' jest pusty, ustaw pustą tablicę\n            setPageCount(response.data.totalPages);\n        } catch (error) {\n            console.error('Błąd podczas pobierania danych:', error);\n        }\n    };\n\n\n    // Wywołaj fetchFilms za każdym razem, gdy zmieni się numer strony lub zapytanie\n    useEffect(() => {\n        fetchFilms(currentPage, searchQuery);\n    }, [currentPage, searchQuery]);\n\n    // Funkcja do obsługi zmiany strony\n    const handlePageChange = ({ selected }) => {\n        setCurrentPage(selected);\n    };\n\n    // Funkcja do obsługi zmiany zapytania wyszukiwania\n    const handleSearch = (event) => {\n        setSearchQuery(event.target.value);\n        setCurrentPage(0);  // Zresetuj stronę, gdy zmienia się zapytanie wyszukiwania\n    };\n\n    return (\n        <div>\n            <h1>Lista Filmów</h1>\n\n            <input\n                type=\"text\"\n                placeholder=\"Szukaj filmów...\"\n                value={searchQuery}\n                onChange={handleSearch}\n            />\n\n            <ul>\n                {films.length > 0 ? (\n                    films.map((film) => (\n                        <li key={film.id}>\n                            <strong>{film.title}</strong> ({new Date(film.releaseDate).toLocaleDateString()})\n                            <br />\n                            Reżyser: {film.director}\n                            <br />\n                            Czas trwania: {film.durationMinutes} min\n                            <br />\n                            Ocena: {film.rating}\n                            <br />\n                            <strong>{film.watched ? 'Oglądany' : 'Nieoglądany'}</strong>\n                        </li>\n                    ))\n                ) : (\n                    <li>Brak filmów do wyświetlenia</li>\n                )}\n            </ul>\n\n            {/* Stronicowanie */}\n            <ReactPaginate\n                previousLabel={\"Poprzednia\"}\n                nextLabel={\"Następna\"}\n                pageCount={pageCount}\n                onPageChange={handlePageChange}\n                containerClassName={\"pagination\"}\n                activeClassName={\"active\"}\n            />\n        </div>\n    );\n};\n\nexport default FilmList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}